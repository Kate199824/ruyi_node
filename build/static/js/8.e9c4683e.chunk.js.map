{"version":3,"sources":["components/AniBackground/index.js","components/Bar/index.js","request.js","components/NaviBar/index.js","pages/news/NewsSection/index.js","pages/news/PictureSection/index.js","pages/news/commonBody/index.js","pages/news/index.js","service/newsSvc.js"],"names":["AniBackground","ele","document","getElementById","ele2","window","addEventListener","percent","scrollY","style","width","opacity","_this$props","this","props","bg_url","text_url","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","id","src","Component","Bar","QQcontent","react__WEBPACK_IMPORTED_MODULE_9___default","qqQRChart","wechatContent","wechatQRChart","antd_es_popover__WEBPACK_IMPORTED_MODULE_1__","content","trigger","placement","href","target","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","type","fontSize","color","codeMessage","200","201","202","204","400","401","403","404","406","410","422","500","502","503","504","checkStatus","response","status","errortext","message","error","Error","name","request","_x","_x2","_x3","_x4","_request","apply","arguments","_callee","url","method","options","useBody","newOptions","newUrl","_Users_jinbingshu_git_ruyi_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","Object","_Users_jinbingshu_git_ruyi_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","body","JSON","stringify","keys","forEach","key","substr","length","headers","Accept","Content-Type","fetch","sent","e","console","log","abrupt","text","json","stop","NaviBar","activeIndex","react_default","link","map","item","index","react_router_dom","concat","to","React","withRouter","Item","title","date","icon","NewsSection","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onChange","page","setState","currentPage","state","pageSize","_this$state","newsList","list","slice","components_NaviBar","pagination","size","current","defaultCurrent","total","PictureSection","previosPosterList","PictureSection_Item","kry","CurrentPoster","CommonBody","currentPoster","newsBg","newsBgText","PictureSection_PictureSection","NewsSection_NewsSection","scrollTo","News","studioNewsList","nationNewsList","abroadNewsList","_this2","Promise","all","resolve","currentActivity","previosActivity","then","values","match","params","commonBody_CommonBody"],"mappings":"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","file":"static/js/8.e9c4683e.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './style.scss';\n\nexport default class AniBackground extends Component {\n  componentDidMount() {\n    const ele = document.getElementById('abg_container');\n    const ele2 = document.getElementById('abg_text_container');\n    window.addEventListener('scroll', () => {\n      const percent = 100 - window.scrollY / 10;\n      ele.style.width = percent + '%';\n      // console.log(percent);\n      ele.style.opacity = percent / 150;\n      if (percent > 90) {\n        ele2.style.opacity = 1;\n      } else {\n        ele2.style.opacity = percent / 120;\n      }\n    });\n  }\n  render() {\n    const { bg_url, text_url } = this.props;\n    return (\n      <div className=\"abg_body\">\n        <div className=\"abg_container\" id=\"abg_container\">\n          <img src={bg_url} />\n        </div>\n        <div className=\"abg_title_container\" id=\"abg_text_container\">\n          <img src={text_url} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Icon, Popover } from 'antd';\nimport { qqQRChart, wechatQRChart } from '../../service/ossURL';\nimport './style.scss';\n\nexport default class Bar extends Component {\n  render() {\n    const QQcontent = (\n      <div>\n        <img src={qqQRChart} style={{ width: 160 }} />\n      </div>\n    );\n    const wechatContent = (\n      <div>\n        <img src={wechatQRChart} style={{ width: 160 }} />\n      </div>\n    );\n    return (\n      <div className=\"barSection\">\n        <Popover content={QQcontent} trigger=\"hover\" placement=\"top\">\n          <a\n            href=\"https://user.qzone.qq.com/1576087369/infocenter\"\n            target=\"_blank\"\n          >\n            <Icon\n              className=\"icon\"\n              type=\"qq\"\n              style={{ fontSize: '40px', color: '#eeeeee' }}\n            />\n          </a>\n        </Popover>\n\n        <Icon\n          className=\"icon\"\n          type=\"weibo\"\n          style={{ fontSize: '40px', color: '#eeeeee' }}\n        />\n\n        <Popover content={wechatContent} trigger=\"hover\" placement=\"top\">\n          <Icon\n            className=\"icon\"\n            type=\"wechat\"\n            style={{ fontSize: '40px', color: '#eeeeee' }}\n          />\n        </Popover>\n      </div>\n    );\n  }\n}\n","const codeMessage = {\n  200: '服务器成功返回请求的数据。',\n  201: '新建或修改数据成功。',\n  202: '一个请求已经进入后台排队（异步任务）。',\n  204: '删除数据成功。',\n  400: '发出的请求有错误，服务器没有进行新建或修改数据的操作。',\n  401: '用户没有权限（令牌、用户名、密码错误）。',\n  403: '用户得到授权，但是访问是被禁止的。',\n  404: '发出的请求针对的是不存在的记录，服务器没有进行操作。',\n  406: '请求的格式不可得。',\n  410: '请求的资源被永久删除，且不会再得到的。',\n  422: '当创建一个对象时，发生一个验证错误。',\n  500: '服务器发生错误，请检查服务器。',\n  502: '网关错误。',\n  503: '服务不可用，服务器暂时过载或维护。',\n  504: '网关超时。'\n};\n\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n  const errortext = codeMessage[response.status] || response.message;\n  const error = new Error(errortext);\n  error.name = response.status;\n  error.response = response;\n  throw error;\n}\n\nexport default async function request(url, method, options, useBody) {\n  const newOptions = { ...options, method: method || 'GET' };\n  let newUrl = url;\n  if (useBody) {\n    newOptions.body = JSON.stringify(options);\n  } else {\n    newUrl = url + '?';\n    if (options) {\n      Object.keys(options).forEach(key => {\n        newUrl = newUrl + key + '=' + options[key] + '&';\n      });\n    }\n    newUrl = newUrl.substr(0, newUrl.length - 1);\n  }\n  newOptions.headers = {\n    Accept: 'application/json',\n    'Content-Type': 'application/json; charset=utf-8'\n  };\n\n  const response = await fetch(newUrl, newOptions);\n  try {\n    checkStatus(response);\n  } catch (e) {\n    console.log(e);\n  }\n  if (newOptions.method === 'DELETE' || response.status === 204) {\n    return response.text();\n  } else {\n    return response.json();\n  }\n}\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport './style.scss';\n\nclass NaviBar extends React.Component {\n  render() {\n    const routeList = [\n      { name: '画室动态', link: '/news/studio' },\n      { name: '国内资讯', link: '/news/nation' },\n      { name: '国际资讯', link: '/news/abroad' }\n    ];\n    const { activeIndex } = this.props;\n    return (\n      <div className=\"ry-navi\">\n        {routeList.map((item, index) => {\n          return (\n            <Link\n              className={`ry-navi-item${\n                index === activeIndex ? ' active' : ''\n              }`}\n              key={item.name}\n              to={item.link}\n            >\n              {item.name}\n            </Link>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(NaviBar);\n","import React, { Component } from 'react';\nimport { Icon, Pagination } from 'antd';\nimport NaviBar from '../../../components/NaviBar';\nimport './style.scss';\n\nfunction Item(props) {\n  const { title, date, link } = props;\n  return (\n    <div className=\"newsItem\">\n      <a href={link} target=\"_blank\">\n        <Icon type=\"caret-down\" style={{ color: '#444a', fontSize: '16px' }} />\n        <div className=\"news-title\">{title}</div>\n      </a>\n      <div className=\"news-date\">{date}</div>\n    </div>\n  );\n}\n\nexport default class NewsSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      pageSize: 6\n    };\n  }\n\n  onChange = page => {\n    this.setState({\n      currentPage: page\n    });\n  };\n\n  render() {\n    const { currentPage, pageSize } = this.state;\n    const { newsList, activeIndex } = this.props;\n\n    const list = newsList.slice(\n      pageSize * (currentPage - 1),\n      pageSize * currentPage\n    );\n    return (\n      <div className=\"new-news\">\n        <div className=\"left-navi\">\n          <NaviBar activeIndex={activeIndex} />\n        </div>\n        <div className=\"newsSection\">\n          {list.map(item => {\n            return (\n              <Item title={item.title} date={item.date} link={item.link} />\n            );\n          })}\n          <Pagination\n            size=\"small\"\n            className=\"page\"\n            current={currentPage}\n            pageSize={pageSize}\n            defaultCurrent={1}\n            onChange={this.onChange}\n            total={newsList.length}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './style.scss';\nimport '../../../service/ossURL';\n\nfunction Item(props) {\n  const { url, title } = props;\n  return (\n    <div className=\"magic-item\">\n      <img src={url} />\n      <div className=\"magic-poster-title\">{title}</div>\n    </div>\n  );\n}\n\nexport default class PictureSection extends Component {\n  render() {\n    const { previosPosterList } = this.props;\n    return (\n      <div className=\"news-picture-section\">\n        {previosPosterList.map(item => {\n          return <Item url={item.url} title={item.title} kry={item.url} />;\n        })}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Bar from '../../../components/Bar';\nimport AniBackground from '../../../components/AniBackground';\nimport NewsSection from '../NewsSection';\nimport PictureSection from '../PictureSection';\nimport { newsBg, newsBgText } from '../../../service/ossURL';\nimport './style.scss';\n\nfunction CurrentPoster(props) {\n  const { url, text } = props;\n  return (\n    <div className=\"current-poster\">\n      <img src={url} />\n    </div>\n  );\n}\n\nexport default class CommonBody extends Component {\n  render() {\n    const { type, newsList, currentPoster, previosPosterList } = this.props;\n    return (\n      <div className=\"ry-body\" id=\"ry-body\">\n        <AniBackground bg_url={newsBg[type]} text_url={newsBgText[type]} />\n        <div className=\"ry-split\">\n          — {type === 'studio' ? '当前活动' : '新闻资讯'} —\n        </div>\n        {type === 'studio' && (\n          <CurrentPoster url={currentPoster.url} text={currentPoster.text} />\n        )}\n        {type === 'studio' && <div className=\"ry-split\">— 以往活动 —</div>}\n        {type === 'studio' && (\n          <PictureSection previosPosterList={previosPosterList} />\n        )}\n\n        <NewsSection\n          newsList={newsList}\n          activeIndex={type === 'studio' ? 0 : type === 'nation' ? 1 : 2}\n        />\n        <Bar />\n      </div>\n    );\n  }\n\n  componentDidUpdate() {\n    window.scrollTo(0, 0);\n  }\n}\n","import React, { Component } from 'react';\nimport './style.scss';\nimport CommonBody from './commonBody';\nimport {\n  getNationNewsList,\n  getStudioNewsList,\n  getAbroadNewsList,\n  getCurrentPoster,\n  getPreviosPosterList\n} from '../../service/newsSvc';\n\nexport default class News extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      studioNewsList: [],\n      nationNewsList: [],\n      abroadNewsList: [],\n      currentPoster: [],\n      previosPosterList: []\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([\n      getStudioNewsList(),\n      getNationNewsList(),\n      getAbroadNewsList(),\n      getCurrentPoster(),\n      getPreviosPosterList()\n    ]).then(values => {\n      const studioNewsList = values[0];\n      const nationNewsList = values[1];\n      const abroadNewsList = values[2];\n      const currentPoster = values[3];\n      const previosPosterList = values[4];\n      this.setState({\n        studioNewsList,\n        nationNewsList,\n        abroadNewsList,\n        currentPoster,\n        previosPosterList\n      });\n    });\n  }\n\n  render() {\n    const { type } = this.props.match.params;\n    const {\n      studioNewsList,\n      nationNewsList,\n      abroadNewsList,\n      currentPoster,\n      previosPosterList\n    } = this.state;\n\n    if (type === 'studio') {\n      return (\n        <CommonBody\n          type={'studio'}\n          newsList={studioNewsList}\n          currentPoster={currentPoster}\n          previosPosterList={previosPosterList}\n          className=\"ry-body\"\n        />\n      );\n    } else if (type === 'nation') {\n      return (\n        <CommonBody\n          type={'nation'}\n          newsList={nationNewsList}\n          className=\"ry-body\"\n        />\n      );\n    } else if (type === 'abroad') {\n      return (\n        <CommonBody\n          type={'abroad'}\n          newsList={abroadNewsList}\n          className=\"ry-body\"\n        />\n      );\n    }\n  }\n}\n","import request from '../request';\nimport { currentActivity, previosActivity, fake_news } from './ossURL';\nconst prefix = '/api/news';\n\nexport const getCurrentPoster = () => {\n  // return request(`${prefix}/currentPoster`);\n  return Promise.resolve(currentActivity);\n};\n\nexport const getPreviosPosterList = () => {\n  // return request(`${prefix}/previosPosterList`);\n  return Promise.resolve(previosActivity);\n};\n\nexport const getStudioNewsList = () => {\n  return request(`${prefix}/studioNewsList`);\n  // return Promise.resolve(fake_news);\n};\n\nexport const getNationNewsList = () => {\n  return request(`${prefix}/nationNewsList`);\n  // return Promise.resolve(fake_news);\n};\n\nexport const getAbroadNewsList = () => {\n  return request(`${prefix}/abroadNewsList`);\n  // return Promise.resolve(fake_news);\n};\n"],"sourceRoot":""}