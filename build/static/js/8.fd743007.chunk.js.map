{"version":3,"sources":["components/AniBackground/index.js","components/Bar/index.js","components/NaviBar/index.js","pages/news/NewsSection/index.js","pages/news/PictureSection/index.js","pages/news/commonBody/index.js","pages/news/index.js","service/newsSvc.js"],"names":["AniBackground","ele","document","getElementById","ele2","window","addEventListener","percent","scrollY","style","width","opacity","_this$props","this","props","bg_url","text_url","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","id","src","Component","Bar","QQcontent","react__WEBPACK_IMPORTED_MODULE_9___default","qqQRChart","wechatContent","wechatQRChart","antd_es_popover__WEBPACK_IMPORTED_MODULE_1__","content","trigger","placement","href","target","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","type","fontSize","color","NaviBar","activeIndex","react_default","name","link","map","item","index","react_router_dom","concat","key","to","React","withRouter","Item","title","date","icon","NewsSection","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onChange","page","setState","currentPage","state","pageSize","_this$state","newsList","list","slice","components_NaviBar","pagination","size","current","defaultCurrent","total","length","url","PictureSection","previosPosterList","PictureSection_Item","kry","CurrentPoster","text","CommonBody","currentPoster","newsBg","newsBgText","PictureSection_PictureSection","NewsSection_NewsSection","scrollTo","News","studioNewsList","nationNewsList","abroadNewsList","_this2","Promise","all","resolve","fake_news","currentActivity","previosActivity","then","values","match","params","commonBody_CommonBody"],"mappings":"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","file":"static/js/8.fd743007.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './style.scss';\n\nexport default class AniBackground extends Component {\n  componentDidMount() {\n    const ele = document.getElementById('abg_container');\n    const ele2 = document.getElementById('abg_text_container');\n    window.addEventListener('scroll', () => {\n      const percent = 100 - window.scrollY / 10;\n      ele.style.width = percent + '%';\n      // console.log(percent);\n      ele.style.opacity = percent / 150;\n      if (percent > 90) {\n        ele2.style.opacity = 1;\n      } else {\n        ele2.style.opacity = percent / 120;\n      }\n    });\n  }\n  render() {\n    const { bg_url, text_url } = this.props;\n    return (\n      <div className=\"abg_body\">\n        <div className=\"abg_container\" id=\"abg_container\">\n          <img src={bg_url} />\n        </div>\n        <div className=\"abg_title_container\" id=\"abg_text_container\">\n          <img src={text_url} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Icon, Popover } from 'antd';\nimport { qqQRChart, wechatQRChart } from '../../service/ossURL';\nimport './style.scss';\n\nexport default class Bar extends Component {\n  render() {\n    const QQcontent = (\n      <div>\n        <img src={qqQRChart} style={{ width: 160 }} />\n      </div>\n    );\n    const wechatContent = (\n      <div>\n        <img src={wechatQRChart} style={{ width: 160 }} />\n      </div>\n    );\n    return (\n      <div className=\"barSection\">\n        <Popover content={QQcontent} trigger=\"hover\" placement=\"top\">\n          <a\n            href=\"https://user.qzone.qq.com/1576087369/infocenter\"\n            target=\"_blank\"\n          >\n            <Icon\n              className=\"icon\"\n              type=\"qq\"\n              style={{ fontSize: '40px', color: '#eeeeee' }}\n            />\n          </a>\n        </Popover>\n\n        <Icon\n          className=\"icon\"\n          type=\"weibo\"\n          style={{ fontSize: '40px', color: '#eeeeee' }}\n        />\n\n        <Popover content={wechatContent} trigger=\"hover\" placement=\"top\">\n          <Icon\n            className=\"icon\"\n            type=\"wechat\"\n            style={{ fontSize: '40px', color: '#eeeeee' }}\n          />\n        </Popover>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport './style.scss';\n\nclass NaviBar extends React.Component {\n  render() {\n    const routeList = [\n      { name: '画室动态', link: '/news/studio' },\n      { name: '国内资讯', link: '/news/nation' },\n      { name: '国际资讯', link: '/news/abroad' }\n    ];\n    const { activeIndex } = this.props;\n    return (\n      <div className=\"ry-navi\">\n        {routeList.map((item, index) => {\n          return (\n            <Link\n              className={`ry-navi-item${\n                index === activeIndex ? ' active' : ''\n              }`}\n              key={item.name}\n              to={item.link}\n            >\n              {item.name}\n            </Link>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(NaviBar);\n","import React, { Component } from 'react';\nimport { Icon, Pagination } from 'antd';\nimport NaviBar from '../../../components/NaviBar';\nimport './style.scss';\n\nfunction Item(props) {\n  const { title, date, link } = props;\n  return (\n    <div className=\"newsItem\">\n      <a href={link} target=\"_blank\">\n        <Icon type=\"caret-down\" style={{ color: '#444a', fontSize: '16px' }} />\n        <div className=\"news-title\">{title}</div>\n      </a>\n      <div className=\"news-date\">{date}</div>\n    </div>\n  );\n}\n\nexport default class NewsSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      pageSize: 6\n    };\n  }\n\n  onChange = page => {\n    this.setState({\n      currentPage: page\n    });\n  };\n\n  render() {\n    const { currentPage, pageSize } = this.state;\n    const { newsList, activeIndex } = this.props;\n\n    const list = newsList.slice(\n      pageSize * (currentPage - 1),\n      pageSize * currentPage\n    );\n    return (\n      <div className=\"new-news\">\n        <div className=\"left-navi\">\n          <NaviBar activeIndex={activeIndex} />\n        </div>\n        <div className=\"newsSection\">\n          {list.map(item => {\n            return (\n              <Item title={item.title} date={item.date} link={item.link} />\n            );\n          })}\n          <Pagination\n            size=\"small\"\n            className=\"page\"\n            current={currentPage}\n            pageSize={pageSize}\n            defaultCurrent={1}\n            onChange={this.onChange}\n            total={newsList.length}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './style.scss';\nimport '../../../service/ossURL';\n\nfunction Item(props) {\n  const { url, title } = props;\n  return (\n    <div className=\"magic-item\">\n      <img src={url} />\n      <div className=\"magic-poster-title\">{title}</div>\n    </div>\n  );\n}\n\nexport default class PictureSection extends Component {\n  render() {\n    const { previosPosterList } = this.props;\n    return (\n      <div className=\"picture-section\">\n        {previosPosterList.map(item => {\n          return <Item url={item.url} title={item.title} kry={item.url} />;\n        })}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Bar from '../../../components/Bar';\nimport AniBackground from '../../../components/AniBackground';\nimport NewsSection from '../NewsSection';\nimport PictureSection from '../PictureSection';\nimport { newsBg, newsBgText } from '../../../service/ossURL';\nimport './style.scss';\n\nfunction CurrentPoster(props) {\n  const { url, text } = props;\n  return (\n    <div className=\"current-poster\">\n      <img src={url} />\n    </div>\n  );\n}\n\nexport default class CommonBody extends Component {\n  render() {\n    const { type, newsList, currentPoster, previosPosterList } = this.props;\n    return (\n      <div className=\"ry-body\" id=\"ry-body\">\n        <AniBackground bg_url={newsBg[type]} text_url={newsBgText[type]} />\n        <div className=\"ry-split\">\n          — {type === 'studio' ? '当前活动' : '新闻资讯'} —\n        </div>\n        {type === 'studio' && (\n          <CurrentPoster url={currentPoster.url} text={currentPoster.text} />\n        )}\n        {type === 'studio' && <div className=\"ry-split\">— 以往活动 —</div>}\n        {type === 'studio' && (\n          <PictureSection previosPosterList={previosPosterList} />\n        )}\n\n        <NewsSection\n          newsList={newsList}\n          activeIndex={type === 'studio' ? 0 : type === 'nation' ? 1 : 2}\n        />\n        <Bar />\n      </div>\n    );\n  }\n\n  componentDidUpdate() {\n    window.scrollTo(0, 0);\n  }\n}\n","import React, { Component } from 'react';\nimport './style.scss';\nimport CommonBody from './commonBody';\nimport {\n  getNationNewsList,\n  getStudioNewsList,\n  getAbroadNewsList,\n  getCurrentPoster,\n  getPreviosPosterList\n} from '../../service/newsSvc';\n\nexport default class News extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      studioNewsList: [],\n      nationNewsList: [],\n      abroadNewsList: [],\n      currentPoster: [],\n      previosPosterList: []\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([\n      getStudioNewsList(),\n      getNationNewsList(),\n      getAbroadNewsList(),\n      getCurrentPoster(),\n      getPreviosPosterList()\n    ]).then(values => {\n      const studioNewsList = values[0];\n      const nationNewsList = values[1];\n      const abroadNewsList = values[2];\n      const currentPoster = values[3];\n      const previosPosterList = values[4];\n      this.setState({\n        studioNewsList,\n        nationNewsList,\n        abroadNewsList,\n        currentPoster,\n        previosPosterList\n      });\n    });\n  }\n\n  render() {\n    const { type } = this.props.match.params;\n    const {\n      studioNewsList,\n      nationNewsList,\n      abroadNewsList,\n      currentPoster,\n      previosPosterList\n    } = this.state;\n\n    if (type === 'studio') {\n      return (\n        <CommonBody\n          type={'studio'}\n          newsList={studioNewsList}\n          currentPoster={currentPoster}\n          previosPosterList={previosPosterList}\n          className=\"ry-body\"\n        />\n      );\n    } else if (type === 'nation') {\n      return (\n        <CommonBody\n          type={'nation'}\n          newsList={nationNewsList}\n          className=\"ry-body\"\n        />\n      );\n    } else if (type === 'abroad') {\n      return (\n        <CommonBody\n          type={'abroad'}\n          newsList={abroadNewsList}\n          className=\"ry-body\"\n        />\n      );\n    }\n  }\n}\n","import request from '../request';\nimport { currentActivity, previosActivity, fake_news } from './ossURL';\nconst prefix = '/api/news';\n\nexport const getCurrentPoster = () => {\n  // return request(`${prefix}/currentPoster`);\n  return Promise.resolve(currentActivity);\n};\n\nexport const getPreviosPosterList = () => {\n  // return request(`${prefix}/previosPosterList`);\n  return Promise.resolve(previosActivity);\n};\n\nexport const getStudioNewsList = () => {\n  // return request(`${prefix}/studioNewsList`);\n  return Promise.resolve(fake_news);\n};\n\nexport const getNationNewsList = () => {\n  // return request(`${prefix}/nationNewsList`);\n  return Promise.resolve(fake_news);\n};\n\nexport const getAbroadNewsList = () => {\n  // return request(`${prefix}/abroadNewsList`);\n  return Promise.resolve(fake_news);\n};\n"],"sourceRoot":""}